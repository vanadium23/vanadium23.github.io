<!doctype html><html lang=ru-ru><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Advent of Code 2024 | vanadium23</title>
<meta name=author content="vanadium23"><meta name=twitter:card content="summary"><meta name=twitter:creator content="@vanadium23"><meta property="og:title" content="Advent of Code 2024"><meta property="twitter:title" content="Advent of Code 2024"><meta name=description content="В прошлом году был план затащить на работе 10-15 человек в приватный дашборд, чтобы дошли 2-3 человека до конца. Вы не поверите, но в этом году на работе 18 человек решило хотя бы 3 дня, а до конца дошло 3 человека. Так что иногда достаточно просто подождать&mldr;

В этот раз решил, что пост будет чуть длиннее. Хочется рассмотреть разные аспекты: про этот год, про Clojure, про подходы к решению, про глобальное комьюнити и про локальные ячейки. Но традиционно начну с цифр:"><meta property="og:description" content="В прошлом году был план затащить на работе 10-15 человек в приватный дашборд, чтобы дошли 2-3 человека до конца. Вы не поверите, но в этом году на работе 18 человек решило хотя бы 3 дня, а до конца дошло 3 человека. Так что иногда достаточно просто подождать&mldr;

В этот раз решил, что пост будет чуть длиннее. Хочется рассмотреть разные аспекты: про этот год, про Clojure, про подходы к решению, про глобальное комьюнити и про локальные ячейки. Но традиционно начну с цифр:"><link rel=stylesheet href=https://vanadium23.me/css/base.min.ede35a5a6f0822c8ed4e62a02aaaead5a369281f08df87a8547512ed5449222f.css integrity="sha256-7eNaWm8IIsjtTmKgKqrq1aNpKB8I34eoVHUS7VRJIi8="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><meta name=generator content="Hugo 0.140.1"></head><body><nav class=u-background><div class="u-wrapper Banner"><a class="Banner-link u-clickable" href=https://vanadium23.me/>vanadium23</a><ul class=Banner><li class=Banner-item><a class="Banner-link u-clickable" href=https://vanadium23.me/openbox/>Notes</a></li class="banner-item"><li class=Banner-item><a class="Banner-link u-clickable" href=https://vanadium23.me/about/>About</a></li class="banner-item"><li class=Banner-item><a class="Banner-link u-clickable" href=https://vanadium23.me/tags/>Tags</a></li class="banner-item"><li><a id=themeSwitch class=theme-switcher></a></li></ul></div></nav><main><div class=u-wrapper><div class=u-padding><article><header class=Heading><h2 class=Heading-title><a class="Heading-link u-clickable" href=https://vanadium23.me/advent-of-code-2024/ rel=bookmark>Advent of Code 2024</a></h2><div class=Heading-additional><time datetime=2024-12-25T10:00:00+03:00>25 December, 2024
</time>&#183;
<span>4 min read</span></div></header><p>В <a href=/advent-of-code-2023/>прошлом году</a> был план затащить на работе 10-15 человек в приватный дашборд, чтобы дошли 2-3 человека до конца. Вы не поверите, но в этом году на работе 18 человек решило хотя бы 3 дня, а до конца дошло 3 человека. Так что иногда достаточно просто подождать&mldr;</p><p>В этот раз решил, что пост будет чуть длиннее. Хочется рассмотреть разные аспекты: про этот год, про Clojure, про подходы к решению, про глобальное комьюнити и про локальные ячейки. Но традиционно начну с цифр:</p><p><img src=/images/aoc-2024.png alt="private leaderboard"></p><p>Чуть лучше в среднем, чуть хуже в одиночном и всё ещё очень далеко от <a href=https://x.com/webholt/status/1871789436155166960/photo/1>@webholt</a>. С другой стороны, в этом году мог начинать решать только через 2 часа после начала (пока дочку собрать, пока в сад отдать), так что наличие прогресса — это хорошо.</p><p>В приватном дашборде на работе опустился со второго места на третье, потому что стало больше людей (привет, Никита!):</p><p><img src=/images/private-aoc-2024.png alt="private leaderboard"></p><h2 id=про-этот-год>Про этот год</h2><p>В одном меме:</p><p><img src=/images/aoc2024-2d-grid.png alt="2d grids"></p><p>Есть несколько хороших и не очень моментов. Хорошее — в этом году было много задач на 2D гриды, и, как следствие, можно было отработать все навыки: BFS, DFS, Дейкстра и A*; всё это рекурсивно и итеративно соединено с пирожком динамического программирования. Если всё в этом абзаце пугает, то смело решайте этот год.</p><p>Второе — снова была математика, но после прошлого года ничего зубастого не попалось. Отдельно порадовало, что на <a href=https://adventofcode.com/2024/day/13>13 день</a> вместо вывода формулы Крамера достаточно было сделать <code>pip install z3</code>.</p><p>В целом, в этом году многое решалось если не брутфорсом, то брутфорсом + functools.cache. Это радикально отличается от 2022 года, да и данные показывают, что <a href=https://aoc.xhyrom.dev/>сложность этого года ниже средней</a>. Или этот график показывает прогресс LLMs. Так, что если хотите вкатиться, то это лучший год для того, чтобы это сделать.</p><h2 id=про-clojure>Про Clojure</h2><p>По аналогии с прошлым годом, первые пять дней было принято решать на новом языке. Выбор стоял между Zig, чем-то из Lisp и Julia. Народным голосованием был выбран Clojure. За плечами не было никакого опыта с ним, поэтому перед стартом проходил <a href=http://clojurescriptkoans.com/>http://clojurescriptkoans.com/</a> и <a href=https://markm208.github.io/cljbook/>Animated book</a>. Также был найден файл с <a href=https://github.com/rjray/advent-2023-clojure/blob/master/src/advent_of_code/utils.clj>полезными утилитками</a>.</p><p>Всё это помогло мне ровно никак. По сравнению с Rust — среди AoC пользователей Clojure не было достаточно системности: юнит-тесты никто не писал, обвязок тоже не было, так что приходилось решать руками. А руками решать не получалось из-за отсутствия опыта на тренажёрах и в реальных проектах. После перехода задач на 2D гриды становилось совсем худо: хотелось императивщины со стеком, очередью, без рекурсий и с простой мемоизацией.</p><p>Поэтому я поплевался пять дней, записал себе в следующий год прохождение курса <a href=https://htdp.org/>How to Design Programs</a> на DrRacket и повторное прохождение на Lisp первых 5 дней.</p><p>Решение некоторых дней можно почитать:</p><ul><li><a href=https://gist.github.com/vanadium23/d32cde3528bbe11cd5ae999365b21fab>day1</a></li><li><a href=https://gist.github.com/vanadium23/7423650bd1efdcbbbd8232e8f8d5e6f6>day2</a></li><li><a href=https://gist.github.com/vanadium23/a471ba6ead7a6eaf6903b58c99ef5453>day3</a></li><li><a href=https://gist.github.com/vanadium23/281186ff57e17980604fc1012bab4b1c>day4</a></li><li><a href=https://gist.github.com/vanadium23/92208a48533a7c70100d74de257d3a55>day5</a></li></ul><p>Полезный опыт был — а именно про упрощение подхода к парсингу входных данных.</p><h2 id=про-лайфхаки>Про лайфхаки</h2><p>Видимо, у любого AoC участника на второй-третий год появляются утилитки, а у AoC++ скорее всего и свой язык решения пазлов. Делюсь, что должна в себя включать эта библиотека:</p><ul><li>Парсинг:<ul><li>разбить на линии;</li><li>разбить на блоки (через <code>\n\n</code>);</li><li>достать все числа из строки (не забыть про знак <code>-</code>).</li></ul></li><li>Матрицы (и графы):<ul><li>нахождение расстояния между двумя точками: BFS, DFS, A*;</li><li>движение вверх-вниз-влево-вправо с учётом границ и стен (<code>#</code>);</li><li>транспонирование;</li><li>дебаг (вывод).</li></ul></li><li>(Задача со *) скачать свой input, засабмитить ответ по флажку.</li></ul><p>Про последнее напишу отдельно — есть хорошая утилита на Rust, называется <a href=https://github.com/scarvalhojr/aoc-cli>aoc-cli</a>. Она умеет скачивать пазлы и инпуты в Markdown и TXT, соответственно. Умеет отсылать ответы, а также рисовать приватные лидерборды. Поверх этого использую <a href=https://vanadium23.me/openbox/makefile/>Makefile</a>, чтобы всё разложить:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-makefile data-lang=makefile><span style=display:flex><span><span style=color:#a6e22e>.PHONY</span><span style=color:#f92672>:</span> help download
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>download </span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	aoc d -i <span style=color:#e6db74>&#34;`date &#39;+%d&#39;`.txt&#34;</span> -p <span style=color:#e6db74>&#34;`date &#39;+%d&#39;`.md&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>tmpl</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	cp skeleton.py <span style=color:#e6db74>&#34;`date &#39;+%d&#39;`.clj&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>stats </span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	aoc p XXXXX
</span></span></code></pre></div><p>Ещё полезным оказались дополнительные данные для приватных лидербордов с помощью расширения - <a href=https://github.com/jeroenheijmans/advent-of-code-charts>https://github.com/jeroenheijmans/advent-of-code-charts</a>.</p><h2 id=про-глобальное-комьюнити>Про глобальное комьюнити</h2><p>Драма этого года — <a href=https://old.reddit.com/r/adventofcode/comments/1h9cub8/discussion_on_llm_cheaters/>LLM Cheaters</a>. Первые 12 дней задачи были достаточно простые, чтобы сделать текст задачи + input → OpenAI API → answer → submit. Таким образом в глобальном зачёте висели люди со скоростью в 6 секунд. Плохо ли это? Да, если учесть ежегодный труд Эрика. Что ещё печальнее, никто пока не понимает, как правильно решать эту проблему:</p><ul><li>отдельный лидерборд — плохо;</li><li>LLM spoof задачи — плохо;</li><li>подтверждение задач — плохо;</li><li>закрыть лидерборд и оставить только приватные — плохо.</li></ul><p>Посмотрим, будет ли что-то в следующем году сделано против этого.</p><p>Как следствие этой проблемы, задачи после 14-15 дня стали трудночитаемыми. Настолько, что каждые 3 дня появлялись мемы про это.</p><p><img src=/images/aoc2024-reading.png alt="reading is hard"></p><p>Если это всё отбросить, то всё как обычно. Каждый день были смешные мемы, каждый день кто-то решал задачку на картриджах Nintendo 64 или программировал уровни в игре &ldquo;Baba Is You&rdquo;. Читайте сабреддит, там половина удовольствия от Advent of Code.</p><h2 id=про-локальное-комьюнити>Про локальное комьюнити</h2><p>Хочу здесь написать благодарности всем коллегам, кто участвовал в этом году. Это были не только разработчики, но и DevOps, QA, менеджеры и рекрутеры. Это показатель того, что Advent of Code не про алгоритмы, а про логику и поиск нестандартных вещей в предоставленных данных.</p><hr><p>Традиционный топ интересных задач за этот год:</p><ol><li>Написать квайн поверх собственного ASM — <a href=https://adventofcode.com/2024/day/17>17 день</a>;</li><li>Починить битовый калькулятор — <a href=https://adventofcode.com/2024/day/24>24 день</a>;</li><li>Симулятор сокобана с широкими ящиками — <a href=https://adventofcode.com/2024/day/15>15 день</a>.</li></ol><p>И спасибо, посмеялся на задаче поиска ёлки с помощью бегающих роботов.</p></article></div></div></main><footer class=Footer><div class=u-wrapper><div class=u-padding><a href=https://github.com/vanadium23><i class="svg-icon github"></i></a>
<a href=https://www.linkedin.com/in/vanadium23><i class="svg-icon linkedin"></i></a>
<a href=https://www.twitter.com/vanadium23><i class="svg-icon twitter"></i></a>
<a href=http://stackoverflow.com/users/4809450/vanadium23><i class="svg-icon stackoverflow"></i></a>
<a href=https://www.codewars.com/users/vanadium23><i class="svg-icon codewars"></i></a>
<a href=https://goodreads.com/vanadium23><i class="svg-icon goodreads"></i></a>
<a href=https://t.me/chernov_sharit><i class="svg-icon telegram"></i></a></div></div></footer><script type=text/javascript src=https://vanadium23.me/js/themes.js integrity></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "7507913639b540edbde55792995b90d8"}'></script></body></html>